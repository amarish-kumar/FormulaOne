<div ng-hide="content_loaded">
  Just grabbing your data...
</div>
<div ng-show="content_loaded">
  <h3>Results / Race Schedule<span class="divider"> .:. </span>
    <span class="dropdown">
      <a class="btn btn-default" data-toggle="dropdown" href="#">{{ season }} <b class="caret"></b></a>
      <ul ng-model="seasonSelection" class="dropdown-menu scrollable-menu" role="menu" aria-labelledby="dropdownYear">
        <li ng-repeat="year in years">
          <a ng-click="$parent.season = year">{{year}}</a>
        </li>
      </ul>
    </span></h3>

  <table ng-show="weather_loaded" class="table table-bordered">
    <tr>
      <td>Next Race:</td>
      <td>{{nextRace.raceName}}, {{timeToRace}}</td>
    </tr>
    <tr>
      <td>Forecast:</td>
      <td class="raceForecast">
        <div class="weatherTile">
          <img ng-src="{{ weatherForecast.icon }}" />
          <span class="weatherDesc">{{ weatherForecast.weather[0].description }}</span>
        </div>
        <div class="weatherTile">
          <span class="tempMax tempTile">Max {{weatherForecast.temp.max}}&deg;C</span>
          <span class="tempMain tempTile">{{weatherForecast.temp.day}}&deg;C</span>
          <span class="tempMin tempTile">Min {{weatherForecast.temp.min}}&deg;C</span>
        </div>
      </td>
    </tr>
  </table>  

  <table class="table table-striped table-bordered table-hover table-condensed">
    <tr>
      <th>Round</th>
      <th>Name / Circuit / Date</th>
      <th colspan="2">Details</th>
    </tr>
    <tr ng-repeat="race in schedule.Races">
      <td>{{race.round}} </td>
      <td>{{race.raceName}}<br/><a ui-sref="viewCircuit({id: race.Circuit.circuitId})">{{race.Circuit.circuitName}}</a><br/>{{race | formatDateTime}}</td>
      <td><a target="_blank" ng-href="{{race.url}}"/>Wiki Link</td>
      <td ng-if="race.date == currentDate"><i>Awaiting Results</i></td>
      <td ng-if="race.date > currentDate"><i>Coming Soon</i></td>
      <td ng-if="race.date < currentDate"><a ui-sref="viewResult({season: season, round: race.round})">Result</td>
    </tr>
  </table>
</div>

<div ng-hide="content_loaded">
  Just grabbing your data...
</div>
<div ng-show="content_loaded">
  <h3>Results / Race Schedule<span class="divider"> .:. </span>
    <span class="dropdown">
      <a class="btn btn-default" data-toggle="dropdown" href="/results">{{ season }} <b class="caret"></b></a>
      <ul ng-model="seasonSelection" class="dropdown-menu scrollable-menu" role="menu" aria-labelledby="dropdownYear">
        <li ng-repeat="year in years">
          <a ng-click="$parent.season = year">{{year}}</a>
        </li>
      </ul>
    </span></h3>
  <div id="tlSchedule" class="timeline-tgt">

  </div>
  <table class="table table-bordered" ng-hide="hideNextRace">
    <tr>
      <td>Next Race:</td>
      <td>{{nextRace.raceName}}, {{timeToRace}}</td>
    </tr>
    <tr ng-show="pracForecast_loaded">
      <td>Practice:<br/><i>{{pracForecast.dateText}}<sup>{{pracForecast.dateTextSuper}}</sup></i></td>
      <td class="raceForecast">
        <div class="weatherTile">
          <img ng-src="{{ pracForecast.icon }}" />
          <span class="weatherDesc">{{ pracForecast.weather[0].description }}</span>
        </div>
        <div class="weatherTile">
          <span class="tempMax tempTile">Max {{pracForecast.temp.max}}&deg;C</span>
          <span class="tempMain tempTile">{{pracForecast.temp.day}}&deg;C</span>
          <span class="tempMin tempTile">Min {{pracForecast.temp.min}}&deg;C</span>
        </div>
        <div class="weatherTile">
           <span class="tempMax tempTile">Wind</span>
           <img class="arrow" ng-src="{{ pracForecast.WindIcon }}" style="-webkit-transform: rotate({{ pracForecast.deg }}deg); -moz-transform: rotate({{ pracForecast.deg }}deg); -ms-transform: rotate({{ pracForecast.deg }}deg); -o-transform: rotate({{ pracForecast.deg }}deg); transform: rotate({{ pracForecast.deg }}deg);" />
           <span class="weatherDesc">{{pracForecast.windMph}}mph</span>
        </div>
        <div class="weatherTile">
          <img ng-src="{{ pracForecast.cloud }}" />
          <span class="weatherDesc">{{ pracForecast.clouds }}% Cloudy</span>
        </div>
      </td>
    </tr>
    <tr ng-show="qualForecast_loaded">
      <td>Qualifying:<br/><i>{{qualForecast.dateText}}<sup>{{qualForecast.dateTextSuper}}</sup></i></td>
      <td class="raceForecast">
        <div class="weatherTile">
          <img ng-src="{{ qualForecast.icon }}" />
          <span class="weatherDesc">{{ qualForecast.weather[0].description }}</span>
        </div>
        <div class="weatherTile">
          <span class="tempMax tempTile">Max {{qualForecast.temp.max}}&deg;C</span>
          <span class="tempMain tempTile">{{qualForecast.temp.day}}&deg;C</span>
          <span class="tempMin tempTile">Min {{qualForecast.temp.min}}&deg;C</span>
        </div>
        <div class="weatherTile">
           <span class="tempMax tempTile">Wind</span>
           <img class="arrow" ng-src="{{ qualForecast.WindIcon }}" style="-webkit-transform: rotate({{ qualForecast.deg }}deg); -moz-transform: rotate({{ qualForecast.deg }}deg); -ms-transform: rotate({{ qualForecast.deg }}deg); -o-transform: rotate({{ qualForecast.deg }}deg); transform: rotate({{ qualForecast.deg }}deg);" />
           <span class="weatherDesc">{{qualForecast.windMph}}mph</span>
        </div>
        <div class="weatherTile">
          <img ng-src="{{ qualForecast.cloud }}" />
          <span class="weatherDesc">{{ qualForecast.clouds }}% Cloudy</span>
        </div>
      </td>
    </tr>
    <tr ng-show="weather_loaded">
      <td>Weekend Forecast:<br/><i>{{weatherForecast.dateText}}<sup>{{weatherForecast.dateTextSuper}}</sup></i></td>
      <td class="raceForecast">
        <div class="weatherTile">
          <img ng-src="{{ weatherForecast.icon }}" />
          <span class="weatherDesc">{{ weatherForecast.weather[0].description }}</span>
        </div>
        <div class="weatherTile">
          <span class="tempMax tempTile">Max {{weatherForecast.temp.max}}&deg;C</span>
          <span class="tempMain tempTile">{{weatherForecast.temp.day}}&deg;C</span>
          <span class="tempMin tempTile">Min {{weatherForecast.temp.min}}&deg;C</span>
        </div>
        <div class="weatherTile">
           <span class="tempMax tempTile">Wind</span>
           <img class="arrow" ng-src="{{ weatherForecast.WindIcon }}" style="-webkit-transform: rotate({{ weatherForecast.deg }}deg); -moz-transform: rotate({{ weatherForecast.deg }}deg); -ms-transform: rotate({{ weatherForecast.deg }}deg); -o-transform: rotate({{ weatherForecast.deg }}deg); transform: rotate({{ weatherForecast.deg }}deg);" />
           <span class="weatherDesc">{{weatherForecast.windMph}}mph</span>
        </div>
        <div class="weatherTile">
          <img ng-src="{{ weatherForecast.cloud }}" />
          <span class="weatherDesc">{{ weatherForecast.clouds }}% Cloudy</span>
        </div>
      </td>
    </tr>
  </table>  



    


  <table class="table table-striped table-bordered table-condensed">
    <tr>
      <th>Round</th>
      <th>Name / Circuit / Date</th>
      <th colspan="2">Details</th>
    </tr>
    <tr ng-repeat="race in schedule.Races">
      <td>{{race.round}} </td>
      <td>{{race.raceName}}<br/><a ui-sref="viewCircuit({id: race.Circuit.circuitId})">{{race.Circuit.circuitName}}</a><br/>{{race | formatDateTime}}</td>
      <td><a target="_blank" ng-href="{{race.url}}"/>Wiki Link</td>
      <td ng-if="race.date == currentDate"><i>Awaiting Results</i></td>
      <td ng-if="race.date > currentDate"><i>Coming Soon</i></td>
      <td ng-if="race.date < currentDate"><a ui-sref="viewResult({season: season, round: race.round})">Result</td>
    </tr>
  </table>
</div>



<script  type="text/javascript">console.log('here')</script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/qtip2/2.0.1/jquery.qtip.min.css" />
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/qtip2/2.0.1/jquery.qtip.min.js"></script>

    <script type="text/javascript" src="./lib/chronoline/raphael-min.js"></script>

    <link rel="stylesheet" type="text/css" href="./lib/chronoline/chronoline.css" />
    <script type="text/javascript" src="./lib/chronoline/chronoline.js"></script>
    <script type="text/javascript">




      // var timeline3 = new Chronoline(document.getElementById("target3"), events,
      //   {visibleSpan: DAY_IN_MILLISECONDS * 366,
      // animated: true,
      //    tooltips: true,
      //    defaultStartDate: new Date(2012, 3, 5),
      //    sections: sections,
      //    sectionLabelAttrs: {'fill': '#997e3d', 'font-weight': 'bold'},
      // labelInterval: isHalfMonth,
      // hashInterval: isHalfMonth,
      // scrollLeft: prevQuarter,
      // scrollRight: nextQuarter,
      // floatingSubLabels: false,
      // });



    </script>

  </body>
